<div class="container flex justify-center">
  <div class="p-6 rounded-lg border transition-all dark:border-gray-700 border-emerald-500 border-t-4 w-fit">
    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Data Import</h3>
    <div class="space-y-4 min-w-[400px]">
      
      <div class="form-group">
        <label for="importType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Select Import Type:</label>
        <select id="importType" (change)="updateImportType($event)" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white">
          <option value="bulk">File Import</option>
          <option value="database">Document Repository Import</option>
          <option value="api">API Import</option>
        </select>
      </div>

      <div *ngIf="importType === 'bulk'" class="form-group">
        <label for="directoryPath" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Enter Directory Path:</label>
        <input type="text" id="directoryPath" [(ngModel)]="directoryPath" placeholder="Enter full directory path" 
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"/>
      </div>

      <div *ngIf="importType === 'api'" class="form-group">
        <label for="directoryPath" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Select Directory:</label>
        <input type="file" id="directoryUpload" (change)="onDirectorySelect($event)" webkitdirectory directory 
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"/>
      </div>

      <div *ngIf="importType === 'database'" class="form-group space-y-4">
        <div>
          <label for="numDocuments" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Number of Documents to Import:</label>
          <input type="number" id="numDocuments" [(ngModel)]="numDocuments" placeholder="Enter number of documents" min="1"
            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"/>
        </div>
        <div>
          <label for="filterDocuments" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Filter ID on:</label>
          <input id="filterDocuments" [(ngModel)]="filterDocuments" placeholder=""
            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"/>
        </div>
      </div>

      <div class="form-group">
        <label for="profileID" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Enter Profile Name:</label>
        <input type="text" id="profileID" [(ngModel)]="profileID" placeholder="Enter profile name"
          class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"/>
      </div>

      <div class="form-group">
        <button type="button" (click)="startImport()" 
          class="w-full px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors duration-200">
          Start Import
        </button>
      </div>

      <div *ngIf="loading" class="loading-bar">
        <div class="loading-indicator"></div>
      </div>

      <div id="importResult">
        <p *ngIf="importResult" class="text-sm text-gray-700 dark:text-gray-300">{{ importResult }}</p>
      </div>
    </div>
  </div>
  
  <app-alert-banner [alert]="currentAlert" *ngIf="currentAlert"></app-alert-banner>
</div>
